<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Panel de AdministraciÃ³n - Turismo CoclÃ©</title>
  <link rel="stylesheet" href="css/estilos.css">
</head>
<body>

<!-- NAVBAR -->
<header class="navbar">
  <h1>ğŸŒ´ Turismo CoclÃ© - Admin</h1>
  <nav id="menu">
    <a href="index.html">Inicio</a>
    <a href="admin.html">Panel Admin</a>
    <a href="#" onclick="cerrarSesion()">Cerrar SesiÃ³n</a>
  </nav>
  <div class="hamburguesa" onclick="toggleMenu()">â˜°</div>
</header>

<div class="admin-container">
  <div class="admin-header">
    <h2>ğŸ› ï¸ Panel de AdministraciÃ³n de Paquetes</h2>
    <p style="margin-top: 0.5rem;">Gestiona los paquetes turÃ­sticos disponibles</p>
  </div>

  <div class="admin-form">
    <h3 style="color: var(--verde-principal); margin-bottom: 1rem;">â• Agregar Nuevo Paquete</h3>
    <form onsubmit="agregarPaquete(event)">
      <input 
        type="text" 
        id="nombrePaquete" 
        placeholder="Nombre del paquete" 
        required 
        style="width: 100%; padding: 0.8rem; margin: 0.5rem 0; border: 2px solid #4a7c2c; border-radius: 5px;"
      >
      
      <textarea 
        id="descripcionPaquete" 
        placeholder="DescripciÃ³n del paquete" 
        required 
        style="width: 100%; padding: 0.8rem; margin: 0.5rem 0; border: 2px solid #4a7c2c; border-radius: 5px; min-height: 80px; resize: vertical;"
      ></textarea>
      
      <input 
        type="number" 
        id="precioPaquete" 
        placeholder="Precio (sin el sÃ­mbolo $)" 
        required 
        min="1"
        style="width: 100%; padding: 0.8rem; margin: 0.5rem 0; border: 2px solid #4a7c2c; border-radius: 5px;"
      >
      
      <input 
        type="text" 
        id="iconoPaquete" 
        placeholder="Icono (emoji, ej: ğŸ–ï¸)" 
        maxlength="2"
        style="width: 100%; padding: 0.8rem; margin: 0.5rem 0; border: 2px solid #4a7c2c; border-radius: 5px;"
      >
      
      <button 
        type="submit" 
        style="width: 100%; background: var(--verde-principal); color: white; padding: 1rem; border: none; border-radius: 25px; cursor: pointer; font-size: 1rem; margin-top: 0.5rem;"
      >
        Agregar Paquete
      </button>
    </form>
  </div>

  <div style="margin-top: 2rem;">
    <h3 style="color: var(--verde-principal); margin-bottom: 1rem;">ğŸ“¦ Paquetes Existentes</h3>
    <div id="listaPaquetes"></div>
  </div>
</div>

<footer class="footer" style="margin-top: 4rem;">
  <div>
    <h4>AdministraciÃ³n</h4>
    <a href="admin.html">Panel Admin</a>
    <a href="index.html">Ver Sitio Web</a>
  </div>
  <div>
    <h4>Contacto</h4>
    <p>Email: admin@turismococle.com</p>
    <p>Tel: +507 6000-0000</p>
  </div>
  <div>
    <h4>Sistema</h4>
    <p>VersiÃ³n 1.0</p>
    <p>Â© 2025 Turismo CoclÃ©</p>
  </div>
  <div>
    <h4>Soporte</h4>
    <p>Horario: 24/7</p>
    <p>Soporte tÃ©cnico disponible</p>
  </div>
</footer>

<script>
function toggleMenu() {
  document.getElementById("menu").classList.toggle("active");
}

function cerrarSesion() {
  if (confirm("Â¿Desea cerrar sesiÃ³n?")) {
    alert("SesiÃ³n cerrada exitosamente");
    window.location.href = "login.html";
  }
}

// SimulaciÃ³n de base de datos con array
let paquetes = [
  { id: 1, nombre: "ğŸ–ï¸ Playa Blanca", descripcion: "DÃ­a completo en la playa mÃ¡s hermosa de CoclÃ©", precio: 100, icono: "ğŸ–ï¸" },
  { id: 2, nombre: "ğŸ”ï¸ El Valle de AntÃ³n", descripcion: "Aventura en el valle volcÃ¡nico", precio: 150, icono: "ğŸ”ï¸" },
  { id: 3, nombre: "ğŸ—¿ Tour ArqueolÃ³gico", descripcion: "Explora el Parque ArqueolÃ³gico El CaÃ±o", precio: 120, icono: "ğŸ—¿" },
  { id: 4, nombre: "ğŸ’¦ Chorro del Macho", descripcion: "Aventura extrema con canopy y cascada", precio: 130, icono: "ğŸ’¦" },
  { id: 5, nombre: "ğŸŒ… Tour Completo CoclÃ©", descripcion: "3 dÃ­as / 2 noches visitando todos los atractivos", precio: 350, icono: "ğŸŒ…" }
];

let siguienteId = 6;

function mostrarPaquetes() {
  const lista = document.getElementById("listaPaquetes");
  
  if (paquetes.length === 0) {
    lista.innerHTML = '<p style="text-align: center; color: #666; padding: 2rem;">No hay paquetes registrados</p>';
    return;
  }
  
  let html = '';
  paquetes.forEach(paquete => {
    html += `
      <div class="paquete-admin">
        <div>
          <h3>${paquete.icono} ${paquete.nombre}</h3>
          <p style="color: #666; margin: 0.5rem 0;">${paquete.descripcion}</p>
          <p style="color: var(--marron); font-size: 1.5rem; font-weight: bold; margin: 0.5rem 0;">$${paquete.precio}</p>
        </div>
        <div>
          <button class="btn-editar" onclick="editarPaquete(${paquete.id})">âœï¸ Editar</button>
          <button class="btn-eliminar" onclick="eliminarPaquete(${paquete.id})">ğŸ—‘ï¸ Eliminar</button>
        </div>
      </div>
    `;
  });
  
  lista.innerHTML = html;
}

function agregarPaquete(event) {
  event.preventDefault();
  
  const nombre = document.getElementById("nombrePaquete").value.trim();
  const descripcion = document.getElementById("descripcionPaquete").value.trim();
  const precio = parseInt(document.getElementById("precioPaquete").value);
  const icono = document.getElementById("iconoPaquete").value.trim() || "ğŸ“¦";
  
  if (!nombre || !descripcion || !precio) {
    alert("Por favor complete todos los campos");
    return;
  }
  
  const nuevoPaquete = {
    id: siguienteId++,
    nombre: icono + " " + nombre,
    descripcion: descripcion,
    precio: precio,
    icono: icono
  };
  
  paquetes.push(nuevoPaquete);
  
  // Limpiar formulario
  document.getElementById("nombrePaquete").value = "";
  document.getElementById("descripcionPaquete").value = "";
  document.getElementById("precioPaquete").value = "";
  document.getElementById("iconoPaquete").value = "";
  
  alert("Paquete agregado exitosamente");
  mostrarPaquetes();
}

function editarPaquete(id) {
  const paquete = paquetes.find(p => p.id === id);
  if (!paquete) return;
  
  const nuevoNombre = prompt("Nuevo nombre del paquete:", paquete.nombre.replace(paquete.icono, "").trim());
  if (nuevoNombre === null) return;
  
  const nuevaDescripcion = prompt("Nueva descripciÃ³n:", paquete.descripcion);
  if (nuevaDescripcion === null) return;
  
  const nuevoPrecio = prompt("Nuevo precio:", paquete.precio);
  if (nuevoPrecio === null) return;
  
  if (nuevoNombre.trim() && nuevaDescripcion.trim() && nuevoPrecio) {
    paquete.nombre = paquete.icono + " " + nuevoNombre.trim();
    paquete.descripcion = nuevaDescripcion.trim();
    paquete.precio = parseInt(nuevoPrecio);
    
    alert("Paquete actualizado exitosamente");
    mostrarPaquetes();
  }
}

function eliminarPaquete(id) {
  const paquete = paquetes.find(p => p.id === id);
  if (!paquete) return;
  
  if (confirm(`Â¿EstÃ¡ seguro de eliminar el paquete "${paquete.nombre}"?`)) {
    paquetes = paquetes.filter(p => p.id !== id);
    alert("Paquete eliminado exitosamente");
    mostrarPaquetes();
  }
}

// Cargar paquetes al iniciar
mostrarPaquetes();
</script>

</body>
</html>